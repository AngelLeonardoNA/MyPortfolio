<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

	<script type="text/javascript" src="js/jquery/jquery-1.7.1.min.js"></script>
	<script type="text/javascript" src="js/jquery/jquery-ui-1.8.17.custom.min.js"></script>
	<script type="text/javascript" src="jspdf.js"></script>

	<script type="text/javascript" src="jspdf.plugin.addimage.js"></script>

	<script type="text/javascript" src="jspdf.plugin.standard_fonts_metrics.js"></script>
	<script type="text/javascript" src="jspdf.plugin.split_text_to_size.js"></script>
	<script type="text/javascript" src="jspdf.plugin.from_html.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <title>Exame 3 Parcial</title>
    <style>
        form{
            margin: 10px;
        }
    </style>
    <script>
        function resultados(){
            let letras = "ABCDEFGHIJKLMNÑOPQRSTUVWXYZ";
            let sustituciones = "ICÑHOMTLBSARQPEWJFVUKXDYNZG";


            let texto1 = document.getElementById("texto").value;
            console.log(texto1);
            let textoResultado = "";

            for (let i = 0; i < texto1.length; i++) {
                let char = texto1[i].toUpperCase();
                let index = letras.indexOf(char);
                if (index !== -1) {
                    textoResultado += sustituciones[index];
                } else {
                    textoResultado += texto1[i];
                }
            }

            alert(textoResultado);
            console.log(textoResultado);
            $(document).ready(function () {
				var doc = new jsPDF();

				doc.setFontSize(20);
				doc.text("Palabra Introducida: "+texto1, 40, 20);
				doc.text("Nuevo Mensaje: "+textoResultado,40, 30);
				var string = doc.output('datauristring');
				$('iframe').attr('src', string);
				
			});

            return false;
        }
    </script>
</head>

<body>
    <form id="myform" onsubmit="return resultados();">
            <label for="texto">Texto a introducir: </label>
            <input type="text" name="texto" id="texto" required placeholder="texto">
            <input type="submit" class="btn btn-primary">
    </form>    
    <iframe frameborder="0" width="600" height="600"></iframe>
</body>
</html>
